<script setup lang="ts">
import { ref } from 'vue'

const categories = ref([
  { id: 1, name: 'æ–°é²œè”¬æœ', icon: 'ğŸ¥¬' },
  { id: 2, name: 'è‚‰ç¦½è›‹å“', icon: 'ğŸ—' },
  { id: 3, name: 'æµ·é²œæ°´äº§', icon: 'ğŸŸ' },
  { id: 4, name: 'ç²®æ²¹è°ƒå‘³', icon: 'ğŸŒ¾' },
  { id: 5, name: 'ä¹³åˆ¶å“', icon: 'ğŸ¥›' },
])

const products = ref([
  { id: 1, name: 'æœ‰æœºç”Ÿèœ', category: 1, price: 5.99, unit: 'ä»½', image: 'https://g-b5z0x2cbbqj.vusercontent.net/placeholder.svg?height=300&width=300&text=æœ‰æœºç”Ÿèœ' },
  { id: 2, name: 'æ–°é²œç•ªèŒ„', category: 1, price: 3.99, unit: 'æ–¤', image: 'https://g-b5z0x2cbbqj.vusercontent.net/placeholder.svg?height=300&width=300&text=æ–°é²œç•ªèŒ„' },
  { id: 3, name: 'ç²¾é€‰è‹¹æœ', category: 1, price: 6.99, unit: 'æ–¤', image: 'https://g-b5z0x2cbbqj.vusercontent.net/placeholder.svg?height=300&width=300&text=ç²¾é€‰è‹¹æœ' },
  { id: 4, name: 'å»éª¨é¸¡èƒ¸', category: 2, price: 15.99, unit: 'æ–¤', image: 'https://g-b5z0x2cbbqj.vusercontent.net/placeholder.svg?height=300&width=300&text=å»éª¨é¸¡èƒ¸' },
  { id: 5, name: 'æ–°é²œçŒªé‡Œè„Š', category: 2, price: 22.99, unit: 'æ–¤', image: 'https://g-b5z0x2cbbqj.vusercontent.net/placeholder.svg?height=300&width=300&text=æ–°é²œçŒªé‡Œè„Š' },
  { id: 6, name: 'æ•£å…»åœŸé¸¡è›‹', category: 2, price: 18.99, unit: 'ç›’', image: 'https://g-b5z0x2cbbqj.vusercontent.net/placeholder.svg?height=300&width=300&text=æ•£å…»åœŸé¸¡è›‹' },
  { id: 7, name: 'ä¸‰æ–‡é±¼ç‰‡', category: 3, price: 39.99, unit: 'ä»½', image: 'https://g-b5z0x2cbbqj.vusercontent.net/placeholder.svg?height=300&width=300&text=ä¸‰æ–‡é±¼ç‰‡' },
  { id: 8, name: 'é²œæ´»å¤§è™¾', category: 3, price: 59.99, unit: 'æ–¤', image: 'https://g-b5z0x2cbbqj.vusercontent.net/placeholder.svg?height=300&width=300&text=é²œæ´»å¤§è™¾' },
  { id: 9, name: 'ä¸œåŒ—å¤§ç±³', category: 4, price: 39.99, unit: 'è¢‹', image: 'https://g-b5z0x2cbbqj.vusercontent.net/placeholder.svg?height=300&width=300&text=ä¸œåŒ—å¤§ç±³' },
  { id: 10, name: 'ç‰¹çº§æ©„æ¦„æ²¹', category: 4, price: 89.99, unit: 'ç“¶', image: 'https://g-b5z0x2cbbqj.vusercontent.net/placeholder.svg?height=300&width=300&text=ç‰¹çº§æ©„æ¦„æ²¹' },
  { id: 11, name: 'æœ‰æœºçº¯ç‰›å¥¶', category: 5, price: 29.99, unit: 'ç®±', image: 'https://g-b5z0x2cbbqj.vusercontent.net/placeholder.svg?height=300&width=300&text=æœ‰æœºçº¯ç‰›å¥¶' },
  { id: 12, name: 'å¸Œè…Šé…¸å¥¶', category: 5, price: 12.99, unit: 'ç›’', image: 'https://g-b5z0x2cbbqj.vusercontent.net/placeholder.svg?height=300&width=300&text=å¸Œè…Šé…¸å¥¶' },
])

const selectedCategory = ref(null)

const filteredProducts = computed(() => {
  if (selectedCategory.value === null) {
    return products.value
  }
  return products.value.filter(product => product.category === selectedCategory.value)
})

function selectCategory(categoryId: number) {
  selectedCategory.value = categoryId === selectedCategory.value ? null : categoryId
}
</script>

<template>
  <MainLayout>
    <div class="min-h-screen bg-gray-100">
      <main class="mx-auto max-w-7xl py-6 lg:px-8 sm:px-6">
        <!-- äº§å“åˆ†ç±» -->
        <div class="mb-8">
          <h2 class="mb-4 text-2xl text-gray-900 font-semibold">
            äº§å“åˆ†ç±»
          </h2>
          <div class="flex flex-wrap gap-4">
            <button
              v-for="category in categories"
              :key="category.id"
              class="rounded-full px-4 py-2 text-sm font-medium transition-colors duration-200 ease-in-out"
              :class="[
                selectedCategory === category.id
                  ? 'bg-blue-600 text-white'
                  : 'bg-white text-gray-700 hover:bg-gray-100',
              ]"
              @click="selectCategory(category.id)"
            >
              {{ category.icon }} {{ category.name }}
            </button>
          </div>
        </div>

        <!-- äº§å“åˆ—è¡¨ -->
        <div class="grid grid-cols-1 gap-6 lg:grid-cols-3 sm:grid-cols-2 xl:grid-cols-4">
          <div
            v-for="product in filteredProducts"
            :key="product.id"
            class="overflow-hidden rounded-lg bg-white shadow"
          >
            <img :src="product.image" :alt="product.name" class="h-48 w-full object-cover">
            <div class="p-4">
              <h3 class="text-lg text-gray-900 font-medium">
                {{ product.name }}
              </h3>
              <p class="mt-1 text-sm text-gray-500">
                {{ categories.find(c => c.id === product.category).name }}
              </p>
              <div class="mt-4 flex items-center justify-between">
                <span class="text-xl text-blue-600 font-semibold">
                  Â¥{{ product.price.toFixed(2) }} / {{ product.unit }}
                </span>
                <button
                  class="border border-transparent rounded-md bg-blue-600 px-4 py-2 text-sm text-white font-medium hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"
                >
                  åŠ å…¥è´­ç‰©è½¦
                </button>
              </div>
            </div>
          </div>
        </div>

        <!-- æ— äº§å“æç¤º -->
        <div v-if="filteredProducts.length === 0" class="py-12 text-center">
          <svg class="mx-auto h-12 w-12 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
            <path vector-effect="non-scaling-stroke" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 13h6m-3-3v6m-9 1V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2z" />
          </svg>
          <h3 class="mt-2 text-sm text-gray-900 font-medium">
            æš‚æ— äº§å“
          </h3>
          <p class="mt-1 text-sm text-gray-500">
            è¯¥åˆ†ç±»ä¸‹æš‚æ—¶æ²¡æœ‰å¯ç”¨çš„äº§å“ã€‚
          </p>
        </div>
      </main>
    </div>
  </MainLayout>
</template>
